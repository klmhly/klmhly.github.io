---
title: 前端面试题
date: 2019-1-31 11:38:56
categories: 
- 面试
tags: 
- HTML
---
> 可能的面试题
<!-- more --> 

### 1. 介绍对浏览器内核的理解
主要分成两部分：渲染引擎(Layout Engine或Rendering Engine)和JS引擎。

**渲染引擎**：负责取得网页的内容（HTML、XML、图像等等）、整理讯息（例如加入CSS等），以及计算网页的显示方式，然后会输出至显示器或打印机。浏览器的内核的不同对于网页的语法解释会有不同，所以渲染的效果也不相同。

**JS引擎**：解析和执行javascript来实现网页的动态效果。

最开始渲染引擎和JS引擎并没有区分的很明确，后来JS引擎越来越独立，内核就倾向于只指渲染引擎。

### 2. 常见的浏览器内核
- Trident( MSHTML )：IE浏览器
- Geckos：【特点：代码完全公开】火狐浏浏览器
- Presto：【特点：渲染速度很快，但是兼容性不好】Opera
- Webkit：【安全】Safari | Chrome

### 3. 浏览器渲染原理
Web页面运行在各种各样的浏览器当中，浏览器载入、渲染页面的速度直接影响着用户体验。简单地说，页面渲染就是浏览器将html代码根据CSS定义的规则显示在浏览器窗口中的这个过程。先来大致了解一下浏览器都是怎么干活的：

- 1.用户输入网址（假设是个html页面，并且是第一次访问），浏览器向服务器发出请求，服务器返回html文件；
- 2.浏览器开始载入html代码，发现<head>标签内有一个<link>标签引用外部CSS文件；
- 3.浏览器又发出CSS文件的请求，服务器返回这个CSS文件；
- 4.浏览器继续载入html中<body>部分的代码，并且CSS文件已经拿到手了，可以开始渲染页面了；
- 5.浏览器在代码中发现一个<img>标签引用了一张图片，向服务器发出请求。此时浏览器不会等到图片下载完，而是继续渲染后面的代码；
- 6.服务器返回图片文件，由于图片占用了一定面积，影响了后面段落的排布，因此浏览器需要回过头来**重新渲染**这部分代码；
- 7.浏览器发现了一个包含一行Javascript代码的<script>标签，赶快运行它；
- 8.Javascript脚本执行了这条语句，它命令浏览器隐藏掉代码中的某个（style.display=”none”）。突然就少了这么一个元素，浏览器不得不重新渲染这部分代码；
- 9.终于等到了</html>的到来，如果有新的操作请求，就重新渲染。

### 4. 重绘和重排
#### （1）浏览器的运行机制
- **构建DOM树（parse）**：渲染引擎解析HTML文档，首先将标签转换成DOM树中的DOM node（包括js生成的标签）生成内容树（Content Tree/DOM Tree）；

- **构建渲染树（construct）**：解析对应的CSS样式文件信息（包括js生成的样式和外部css文件），而这些文件信息以及HTML中可见的指令（如<b></b>），构建渲染树（Rendering Tree/Frame Tree）；

- **布局渲染树（reflow/layout）**：从根节点递归调用，计算每一个元素的大小、位置等，给出每个节点所应该在屏幕上出现的精确坐标；

- **绘制渲染树（paint/repaint）**：遍历渲染树，使用UI后端层来绘制每个节点。

####（2）重绘和重排
- **重绘** ：指一个元素**外观**的改变所触发的浏览器行为
- **重排**：元素吧的**尺寸布局隐藏**等改变而导致需要重新构建页面，也叫做回流

####（3）两者关系
>重排必定会引发重绘，但重绘不一定会引发重排

在回流的时候，浏览器会使渲染树中受到影响的部分失效，并重新构造这部分渲染树，完成回流后，浏览器会重新绘制受影响的部分到屏幕中，该过程称为重绘

####（4）触发重排条件
- 页面渲染初始化；(无法避免)
- 添加或删除可见的DOM元素；
- 元素位置的改变，或者使用动画；
- 元素尺寸的改变——大小，外边距，边框；
- 浏览器窗口尺寸的变化（resize事件发生时）；
- 填充内容的改变，比如文本的改变或图片大小改变而引起的计算值宽度和高度的改变；
- 读取某些元素属性：（offsetLeft/Top/Height/Width,　clientTop/Left/Width/Height,　scrollTop/Left/Width/Height,　width/height,　getComputedStyle(),　currentStyle(IE)　)

####（5）触发重绘条件
- 颜色color属性改变
- 背景颜色改变

